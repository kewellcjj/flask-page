{% extends "base.html" %}

{% block content %}
<main role="main" clss="container">
    <div class="row">
        <div class="col-md-9 blog-main p-4">
            {% if list_title %}
            <h3 class="pb-4 mb-4 font-italic border-bottom">
                {{ list_title }}
            </h3>
            {% endif %}
            {% for page in pages %}
            <div class="blog-post mb-2">
                <h2 class="blog-post-tile">{{ page.title }}</h2>
                <!-- {% if page.meta.tags|length %}
                {% for page_tag in page.meta.tags %}
                <a href="{{ url_for('tag', tag=page_tag) }}">#{{ page_tag|capitalize }}</a>
                {% endfor %}
                {% endif %} -->
                <p class="blog-post-meta">{{ page.date.strftime("%B %d, %Y") }}</p>
                {% if pages|length == 1 %}
                <div  class="markdown-body">
                <p>{{ page.html|safe }}</p>
            </div>
                {% else %}
                <div  class="markdown-body">
                <p>{{ page.html|truncate(250)|prettify|safe }}</p>
            </div>
                <p>
                    <a href="{{ url_for('page', path=page.path) }}" class="text-primary">Read More</a>
                </p>
                {% endif %}
            </div>
            <hr>
            {% else %}
            <div class="blog-post">No Posts.</div>
            {% endfor %}
        </div>
        <aside class="col-md-3 blog-sidebar">
            <div class="p-4">
                <h4 class="font-italic">Tags</h4>
                <ol class="list-unstyled mb-0">
                    {% if tags|length %}
                    {% for tag in tags %}
                    <li><a href="{{ url_for('tag', tag=tag[0]) }}" class="text-info"><i class="fas fa-tags"></i> {{ tag[0]|capitalize }} ({{ tag[1] }})</a></li>
                    {% endfor %}
                    {% endif %}
                </ol>
            </div>
            <div class="p-4">
                <h4 class="font-italic">Archives</h4>
                <ol class="list-unstyled mb-0">
                    {% if dates|length %}
                    {% for date in dates %}
                    <li><a href="{{ url_for('archive', date=date[0]) }}" class="text-info">{{ date[0] }} ({{ date[1] }})</a></li>
                    {% endfor %}
                    {% endif %}
                </ol>
            </div>
        </aside>
    </div>
</main>
{% endblock content %}